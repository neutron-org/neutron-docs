---
title: "Events"
description: "Events emitted by the admin module during governance operations"
---

The admin module emits events during various governance operations to provide transparency and enable monitoring of administrative activities.

## Event Types

### ProposalSubmitted

Emitted when a new governance proposal is submitted to the admin module.

**Event Type:** `adminmodule.proposal_submitted`

**Attributes:**
- `proposal_id` (string): Unique identifier for the proposal
- `proposer` (string): Address of the account that submitted the proposal
- `message_count` (string): Number of messages included in the proposal
- `proposal_type` (string): Type of proposal (modern or legacy)

**Example:**
```json
{
  "type": "adminmodule.proposal_submitted",
  "attributes": [
    {"key": "proposal_id", "value": "1"},
    {"key": "proposer", "value": "neutron1qzxcseq9e0jhcpj2ht7j9lqkhp0q5vrzhctlud"},
    {"key": "message_count", "value": "3"},
    {"key": "proposal_type", "value": "modern"}
  ]
}
```

### ProposalExecuted

Emitted when a proposal is successfully executed.

**Event Type:** `adminmodule.proposal_executed`

**Attributes:**
- `proposal_id` (string): The executed proposal identifier
- `executor` (string): Address that executed the proposal
- `gas_used` (string): Gas consumed during execution
- `execution_height` (string): Block height at which execution occurred

**Example:**
```json
{
  "type": "adminmodule.proposal_executed",
  "attributes": [
    {"key": "proposal_id", "value": "1"},
    {"key": "executor", "value": "neutron1qzxcseq9e0jhcpj2ht7j9lqkhp0q5vrzhctlud"},
    {"key": "gas_used", "value": "150000"},
    {"key": "execution_height", "value": "12345"}
  ]
}
```

### ProposalFailed

Emitted when proposal execution fails for any reason.

**Event Type:** `adminmodule.proposal_failed`

**Attributes:**
- `proposal_id` (string): The failed proposal identifier
- `error` (string): Error message describing the failure
- `failed_message_index` (string): Index of the message that caused failure
- `gas_used` (string): Gas consumed before failure

**Example:**
```json
{
  "type": "adminmodule.proposal_failed",
  "attributes": [
    {"key": "proposal_id", "value": "1"},
    {"key": "error", "value": "insufficient funds"},
    {"key": "failed_message_index", "value": "1"},
    {"key": "gas_used", "value": "75000"}
  ]
}
```

### AdminAdded

Emitted when a new admin is added to the network.

**Event Type:** `adminmodule.admin_added`

**Attributes:**
- `admin` (string): Address of the newly added admin
- `added_by` (string): Address of the account that added the admin
- `block_height` (string): Block height when admin was added

**Example:**
```json
{
  "type": "adminmodule.admin_added",
  "attributes": [
    {"key": "admin", "value": "neutron1h5lmx8gndrh0x0qlqhp2hxhf0v5u9hfpexkq5q"},
    {"key": "added_by", "value": "neutron1qzxcseq9e0jhcpj2ht7j9lqkhp0q5vrzhctlud"},
    {"key": "block_height", "value": "12346"}
  ]
}
```

### AdminRemoved

Emitted when an admin is removed from the network.

**Event Type:** `adminmodule.admin_removed`

**Attributes:**
- `admin` (string): Address of the removed admin
- `removed_by` (string): Address of the account that removed the admin
- `block_height` (string): Block height when admin was removed

**Example:**
```json
{
  "type": "adminmodule.admin_removed",
  "attributes": [
    {"key": "admin", "value": "neutron1h5lmx8gndrh0x0qlqhp2hxhf0v5u9hfpexkq5q"},
    {"key": "removed_by", "value": "neutron1qzxcseq9e0jhcpj2ht7j9lqkhp0q5vrzhctlud"},
    {"key": "block_height", "value": "12347"}
  ]
}
```

### WhitelistUpdated

Emitted when the message whitelist configuration is modified.

**Event Type:** `adminmodule.whitelist_updated`

**Attributes:**
- `updated_by` (string): Address that updated the whitelist
- `added_messages` (string): Comma-separated list of added message types
- `removed_messages` (string): Comma-separated list of removed message types
- `total_whitelisted` (string): Total number of whitelisted message types

**Example:**
```json
{
  "type": "adminmodule.whitelist_updated",
  "attributes": [
    {"key": "updated_by", "value": "neutron1qzxcseq9e0jhcpj2ht7j9lqkhp0q5vrzhctlud"},
    {"key": "added_messages", "value": "/cosmos.bank.v1beta1.MsgSend,/cosmos.staking.v1beta1.MsgDelegate"},
    {"key": "removed_messages", "value": ""},
    {"key": "total_whitelisted", "value": "15"}
  ]
}
```

## Event Monitoring

### CLI Event Monitoring

Monitor admin module events using the CLI:

```bash
# Monitor all admin module events
neutrond query txs --events='message.module=adminmodule'

# Monitor specific event types
neutrond query txs --events='adminmodule.proposal_submitted'

# Monitor events with specific attributes
neutrond query txs --events='adminmodule.proposal_executed.proposal_id=1'
```

### WebSocket Event Streaming

Subscribe to admin module events via WebSocket:

```javascript
const ws = new WebSocket('ws://localhost:26657/websocket');

ws.send(JSON.stringify({
  "jsonrpc": "2.0",
  "method": "subscribe",
  "id": "0",
  "params": {
    "query": "message.module='adminmodule'"
  }
}));

ws.onmessage = function(event) {
  const data = JSON.parse(event.data);
  if (data.result?.events) {
    console.log('Admin module event:', data.result.events);
  }
};
```

### Event Filtering

Filter events by specific criteria:

```bash
# Filter by proposer
neutrond query txs --events='adminmodule.proposal_submitted.proposer=neutron1...'

# Filter by execution status
neutrond query txs --events='adminmodule.proposal_executed'

# Filter by admin operations
neutrond query txs --events='adminmodule.admin_added OR adminmodule.admin_removed'
```

## Integration Examples

### Event Processing in Applications

```go
// Go example for processing admin module events
func processAdminEvents(client tmclient.Client) {
    query := "message.module='adminmodule'"
    
    ctx, cancel := context.WithCancel(context.Background())
    defer cancel()
    
    eventCh, err := client.Subscribe(ctx, "admin-monitor", query)
    if err != nil {
        log.Fatal(err)
    }
    
    for event := range eventCh {
        for _, ev := range event.Events {
            switch ev.Type {
            case "adminmodule.proposal_submitted":
                handleProposalSubmitted(ev.Attributes)
            case "adminmodule.proposal_executed":
                handleProposalExecuted(ev.Attributes)
            case "adminmodule.proposal_failed":
                handleProposalFailed(ev.Attributes)
            }
        }
    }
}
```

### Smart Contract Event Handling

```rust
// Rust example for handling admin events in CosmWasm contracts
#[entry_point]
pub fn reply(deps: DepsMut, env: Env, msg: Reply) -> StdResult<Response> {
    match msg.id {
        ADMIN_PROPOSAL_REPLY_ID => {
            // Parse admin module events from the reply
            let events = msg.result.unwrap().events;
            
            for event in events {
                if event.ty == "adminmodule.proposal_executed" {
                    let proposal_id = get_attribute_value(&event.attributes, "proposal_id")?;
                    // Handle proposal execution
                    handle_governance_execution(deps, proposal_id)?;
                }
            }
            
            Ok(Response::new())
        }
        _ => Err(StdError::generic_err("Unknown reply ID")),
    }
}
```

## Event Best Practices

### Monitoring Strategies

1. **Comprehensive Logging**: Monitor all admin module events for complete audit trails
2. **Real-time Alerts**: Set up alerts for critical events like proposal failures
3. **Historical Analysis**: Store events for governance analytics and reporting
4. **Performance Monitoring**: Track gas usage and execution times

### Error Handling

1. **Failed Proposal Analysis**: Monitor `ProposalFailed` events to identify governance issues
2. **Authority Verification**: Track admin addition/removal for security monitoring
3. **Whitelist Changes**: Monitor whitelist updates for security compliance

### Event Retention

Consider retention policies for event data:
- Critical events (proposal execution/failure): Long-term retention
- Administrative events (admin changes): Medium-term retention  
- Routine events (proposal submission): Short-term retention

This event documentation enables comprehensive monitoring and integration with the admin module's governance operations. 