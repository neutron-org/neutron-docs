---
title: "Known Bugs"
description: "Known issues and limitations in the admin module"
---

This document outlines known bugs, limitations, and issues in the admin module. Understanding these limitations is important for developers and administrators working with governance operations on Neutron.

## Current Known Issues

### Message Whitelist Validation

**Issue**: Under certain conditions, the whitelist validation may not catch all edge cases for complex nested message types.

**Description**: When submitting proposals with deeply nested message structures or custom message types, the whitelist validation may occasionally allow messages that should be restricted or reject messages that should be allowed.

**Workaround**: 
- Test complex message structures on testnet before mainnet deployment
- Use well-established message types when possible
- Validate message structure manually before submission

**Status**: Under investigation

### Legacy Proposal Handler Race Conditions

**Issue**: In high-throughput scenarios, legacy proposal handlers may experience race conditions when processing multiple proposals simultaneously.

**Description**: When multiple legacy proposals are submitted in rapid succession, there's a small chance of state inconsistencies if they modify overlapping governance parameters.

**Workaround**:
- Space out legacy proposal submissions
- Use message-based proposals for complex operations
- Monitor proposal execution status carefully

**Status**: Scheduled for fix in next minor release

## Limitations

### Whitelist Management

**Limitation**: The current whitelist system requires governance approval to modify, which can slow response to urgent security updates.

**Details**: Adding or removing message types from the whitelist requires going through the full governance process, including voting periods. This can delay responses to security vulnerabilities or needed operational changes.

**Implications**: 
- Plan whitelist changes well in advance
- Consider broader whitelist entries for anticipated needs
- Maintain emergency procedures for critical security updates

### Proposal Size Limits

**Limitation**: Very large proposals with many messages may exceed block size limits or gas constraints.

**Details**: Proposals containing many messages or large data payloads may fail due to:
- Maximum block size constraints
- Gas limit per transaction
- Memory limitations during validation

**Workaround**:
- Break large operations into multiple smaller proposals
- Use batch processing where supported
- Optimize message payloads for size efficiency

### State Consistency During Upgrades

**Limitation**: During SDK upgrades, there may be temporary inconsistencies in proposal handling between legacy and message-based systems.

**Details**: When upgrading between major SDK versions, the transition period may experience:
- Inconsistent validation rules
- Temporary unavailability of certain message types
- Different error handling behaviors

**Mitigation**:
- Plan governance operations around upgrade schedules
- Test upgrade procedures on testnets
- Coordinate with validators during upgrade windows

## Deprecated Features

### Active/Inactive Proposal Queues

**Status**: Deprecated and removed

**Description**: Earlier versions maintained proposal queues for delayed execution. This system has been removed in favor of immediate execution.

**Migration**: Existing applications relying on queue-based execution should be updated to handle immediate execution patterns.

### Cache Context Execution

**Status**: Deprecated

**Description**: Previous versions used cache contexts for proposal execution simulation. This has been simplified for better performance and consistency.

**Impact**: Applications that relied on cache context behavior may need updates for compatibility.

## Compatibility Issues

### SDK Version Compatibility

**Issue**: Some message types may not be fully compatible across all supported SDK versions.

**Details**: While the admin module supports multiple SDK versions, certain edge cases may arise:
- Message format differences between SDK versions
- Validation rule changes
- Parameter structure modifications

**Best Practices**:
- Test proposals on networks matching your target SDK version
- Review SDK changelogs for message format updates
- Use version-specific message builders when available

### CosmWasm Integration

**Issue**: Certain CosmWasm message types may require special handling for proper whitelist validation.

**Details**: Custom CosmWasm messages or those with dynamic content may not integrate seamlessly with the standard whitelist system.

**Recommendations**:
- Pre-validate CosmWasm messages before proposal submission
- Use established contract patterns when possible
- Test contract integration thoroughly on testnets

## Performance Considerations

### High-Frequency Proposal Submission

**Limitation**: The system is not optimized for very high-frequency proposal submission.

**Details**: Submitting many proposals in rapid succession may lead to:
- Increased block validation times
- Higher gas costs
- Potential network congestion

**Guidelines**:
- Space out proposal submissions appropriately
- Consider batching related operations
- Monitor network conditions before submission

### Large Parameter Updates

**Limitation**: Proposals that update many parameters simultaneously may experience increased processing time.

**Details**: Complex parameter updates affecting multiple modules may require significant computational resources for validation and execution.

**Optimization**:
- Break complex updates into logical groups
- Prioritize critical parameter changes
- Monitor execution gas usage

## Error Handling Issues

### Partial Execution Failures

**Issue**: In batch operations, partial failures may leave the system in an inconsistent state.

**Description**: When a proposal contains multiple messages and one fails mid-execution, the system attempts to rollback changes, but complex state interactions may sometimes result in partial consistency.

**Prevention**:
- Test batch operations thoroughly before production use
- Implement proper error handling in related smart contracts
- Monitor execution results carefully

### Error Message Clarity

**Limitation**: Some error messages from failed proposals may not provide sufficient detail for debugging.

**Details**: Complex proposal failures may return generic error messages that don't clearly identify the root cause.

**Workaround**:
- Enable detailed logging when debugging
- Use structured testing to isolate issues
- Consult module-specific documentation for error codes

## Reporting Issues

If you encounter bugs or issues not listed here:

1. **Verify the Issue**: Confirm the problem is reproducible
2. **Check Documentation**: Review relevant module documentation
3. **Test Environment**: Reproduce the issue on testnet if possible
4. **Gather Information**: Collect relevant logs, transaction hashes, and error messages
5. **Report**: Submit detailed bug reports to the appropriate channels

### Information to Include

When reporting bugs, include:
- Neutron version and network (mainnet/testnet)
- Exact steps to reproduce the issue
- Expected vs. actual behavior
- Relevant transaction hashes or error messages
- Environment details (CLI version, node configuration, etc.)

## Workaround Strategies

### General Debugging Approach

1. **Start Simple**: Test with basic operations before complex ones
2. **Incremental Testing**: Build complexity gradually
3. **Validation First**: Validate all parameters before submission
4. **Monitor Closely**: Watch execution results and system responses
5. **Plan Rollbacks**: Have contingency plans for failed operations

### Emergency Procedures

In case of critical governance failures:

1. **Assess Impact**: Determine the scope and severity of the issue
2. **Emergency Contacts**: Notify relevant validators and community members
3. **Alternative Paths**: Use alternative governance mechanisms if available
4. **Documentation**: Document the issue and resolution for future reference

## Future Improvements

### Planned Enhancements

- Improved whitelist management with emergency update mechanisms
- Enhanced error reporting with detailed diagnostic information
- Better batch operation support with atomic execution guarantees
- Streamlined upgrade procedures with better state migration

### Community Contributions

The admin module welcomes community contributions to address known issues and implement improvements. Developers interested in contributing should review the contribution guidelines and coordinate with the development team.

## Conclusion

While the admin module provides robust governance capabilities, understanding these limitations and issues helps ensure successful deployment and operation. Regular testing, careful planning, and adherence to best practices can mitigate most potential problems.

For the most current information about known issues and their status, check the official Neutron GitHub repository and community channels. 