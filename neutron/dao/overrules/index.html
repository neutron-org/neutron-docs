<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-neutron/dao/overrules">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Overrules | Neutron Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.neutron.org/neutron/dao/overrules"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Overrules | Neutron Docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://docs.neutron.org/neutron/dao/overrules"><link data-rh="true" rel="alternate" href="http://docs.neutron.org/neutron/dao/overrules" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.neutron.org/neutron/dao/overrules" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.da8d2ab0.css">
<link rel="preload" href="/assets/js/runtime~main.a2dd932a.js" as="script">
<link rel="preload" href="/assets/js/main.281f2c91.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.jpeg" alt="Neutron Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.jpeg" alt="Neutron Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Neutron</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Introduction</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/neutron-org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/">Neutron</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/neutron/build-and-run/overview">Build and run</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neutron/contribute">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/neutron/consumer-chain-upgrade">Neutron Launch Instructions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/neutron/dao/overview">Neutron DAO</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neutron/dao/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/neutron/dao/overrules">Overrules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/neutron/dao/dao-dao-diff">Differences from DAO-DAO</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/neutron/tokenomics/overview">Tokenomics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/neutron/modules/interchain-txs/overview">Modules</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/relaying/ibc-relayer">Relaying</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/tutorials/cosmwasm_ica">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/deployment/testnet">Deployed contracts</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Neutron</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Neutron DAO</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Overrules</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Overrules</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>Being inspired by the <a href="https://docs.lido.fi/guides/easy-track-guide#general-overview" target="_blank" rel="noopener noreferrer">Lido&#x27;s EasyTracks</a>, Overrules
allows to reduce governance load on the main Neutron DAO.
Instead of creating the special motions that allow making actions on behalf of the main DAO, Overrules allow for a
subDAOs to manage things by themselves still being limited by the main DAO.</p><p>It works in the following way:</p><ul><li>Special-purpose subDAO is created (e.g. Security subDAO, Grants subDAO, Liquidity Mining subDAO, etc.)</li><li>This subDAO gets allocated budget from the main DAO and also gets any permissions needed</li><li>This subDAO can now manage its budget and permissions without the need to ask the main DAO for every action</li><li>Still, every subDAO proposal can be overruled by the main DAO within a specified timelock period</li></ul><p>To prevent subDAOs from experiencing operational delays, the timelock period should be reasonably brief (e.g. 3 days).
At the same time, overruling should be easy enough, so the threshold should be low enough (e.g. 10 times lower than
regular proposal threshold).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-details">Technical details<a href="#technical-details" class="hash-link" aria-label="Direct link to Technical details" title="Direct link to Technical details">​</a></h2><p>This section describes the technical details of the Overrules implementation. It can be interesting for developers who
want to understand how it works for using Overrules in their DAO or making the integrations with Neutron DAO.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="smart-contracts-design">Smart contracts design<a href="#smart-contracts-design" class="hash-link" aria-label="Direct link to Smart contracts design" title="Direct link to Smart contracts design">​</a></h3><p>To implement the Overrules, we add several smart contracts to the DAO:</p><ol><li><a href="https://github.com/neutron-org/neutron-dao/tree/main/contracts/dao/pre-propose/cwd-pre-propose-single-overrule" target="_blank" rel="noopener noreferrer">Overrule pre-propose module for main DAO</a></li><li><a href="https://github.com/neutron-org/neutron-dao/tree/main/contracts/subdaos/pre-propose/cwd-subdao-pre-propose-single" target="_blank" rel="noopener noreferrer">subDAO pre-propose module for subDAOs</a></li><li><a href="https://github.com/neutron-org/neutron-dao/tree/main/contracts/subdaos/cwd-subdao-timelock-single" target="_blank" rel="noopener noreferrer">Timelock contract</a></li></ol><p>This design allows to implement the Overrules in a way that doesn&#x27;t require any changes in the main DAO smart contracts.
(The only change made to the main DAO is the addition of
<a href="https://github.com/neutron-org/neutron-dao/blob/376cd05df727fbf9c1730a469f94cb6f373e05db/contracts/dao/cwd-core/src/contract.rs#L333" target="_blank" rel="noopener noreferrer">the query to check if subDAO is in the DAO&#x27;s subDAOs list</a>).</p><p>How it works:</p><ol><li>subDAO member submits a proposal to subDAO pre-propose module, which takes the proposal message and wraps it in a
<code>TimelockProposal</code> message.</li><li>subDAO members vote for the proposal and...</li><li>it gets executed, which means that timelock contract<ol><li>locks the subDAO proposal,</li><li>creates a new overrule proposal in the overrule pre-propose module of main DAO.</li></ol></li><li>Main DAO members vote for the overrule proposal.</li><li>Overrule proposal is executed and subDAO proposal is rejected.</li></ol><p>Simplified schema:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">                                                  subDAO members</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                      2 │Vote                            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            1       ┌──────────────┐     1       ┌──────▼─────┐      3      ┌─────────────┐    3        ┌─────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subDAO ────────────►│  sudDAO      ├────────────►│  proposal  ├────────────►│ subDAO core ├────────────►│timelock │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">member  Propose(    │  pre-propose │ Propose(    │            │ Execute(    │             │ Timelock(   │         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ProposeMsg) └──────────────┘ Timelock(   └────────────┘ Timelock(   └─────────────┘ ProposeMsg) └─┬────▲──┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     ProposeMsg))               ProposeMsg))                              │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                                                          │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                       3                                                  │    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┘    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │                              ProposeOverrule(timelock, proposal_id)                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │                                                                                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │                                                                                                            │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │        ┌──────────────┐      3        ┌────────────┐         5       ┌────────────────┐        5           │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  └───────►│  overrule    ├──────────────►│  proposal  ├────────────────►│ DAO core       ├────────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           │  pre-propose │ Propose(      │            │    Execute(     │                │    Overrule(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           └──────────────┘ Overrule(     └──────▲─────┘    Overrule(    └────────────────┘    proposal_id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            timelock,            │          timelock,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            proposal_id))      4 │Vote      proposal_id))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             DAO members</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>...or</p><ol><li>(same as above)</li><li>(same as above)</li><li>(same as above)</li><li>DAO members ignore the overrule proposal.</li><li>Timelocked proposal can be executed once voting period of overrule proposal is over.</li></ol><p>Simplified schema:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">                                                  subDAO members</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                        │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                      2 │Vote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            1       ┌──────────────┐     1       ┌──────▼─────┐      3      ┌─────────────┐    3        ┌─────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subDAO ────────────►│  sudDAO      ├────────────►│  proposal  ├─────────────┤ subDAO core ├────────────►│timelock │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">member  Propose(    │  pre-propose │ Propose(    │            │ Execute(    │             │ Timelock(   │         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ProposeMsg) └──────────────┘ Timelock(   └────────────┘ Timelock(   └─────────────┘ ProposeMsg) └─┬─────┬─┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     ProposeMsg))               ProposeMsg))                              │     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                                                          │     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                       3                                                  │     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┘     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │                              ProposeOverrule(timelock, proposal_id)                                         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │                                                                                                           5 │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │                                                                                                             │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  │        ┌──────────────┐      3        ┌────────────┐                 ┌────────────────┐          ProposeMsg │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  └───────►│  overrule    ├──────────────►│  proposal  │                 │ Main DAO core  │                     │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           │  pre-propose │ Propose(      │            │                 │                │                     ▼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           └──────────────┘ Overrule(     └────────────┘                 └────────────────┘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            timelock,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            proposal_id))         4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             DAO members</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the subDAO proposal is rejected by subDAO members, everything works the same way as without any timelocks/overrules
since they&#x27;re not triggered.</p><p>Overrule pre-propose module allows only overrule messages to be created, thus, it takes only timelock contract address
and subDAO proposal id as parameters. Title and description are generated automatically.</p><p>The proposal module for overrule proposals is just a properly configured regular SingleChoiceProposal module.</p><p>When an overrule proposal is going to be created, the overrule pre-propose module does some checks:</p><ol><li>does the timelock contract correspond to the subDAO</li><li>is the subDAO in the DAO&#x27;s subDAOs list</li><li>is the proposal timelocked</li><li>is an overrule proposal for this subDAO proposal already created</li></ol><p>Those checks are needed to avoid spam and duplications. It&#x27;s pretty crucial since the spam proposals and duplications
can mislead DAO members and make the proposal that supposed to be overruled passed by washing out voting power to wrong
overrule proposals.
Lack of check also could allow to create overrule proposals for the unregistered subDAOs/contracts which is not great
either.</p><p>For check #4 pre-propose module stores the map from pair &lt;timelock_contract_address, subDAO_proposal_id&gt; to overrule
proposal id.
It also allows one to get the corresponding overrule proposal id for given subDAO proposal via
<a href="https://github.com/neutron-org/neutron-dao/blob/376cd05df727fbf9c1730a469f94cb6f373e05db/contracts/dao/pre-propose/cwd-pre-propose-single-overrule/src/contract.rs#L277" target="_blank" rel="noopener noreferrer">special query</a>.
Reverse query (get subDAO proposal id for given overrule proposal id) is also possible, one just need to query the
overrule proposal content from proposal module and get the subDAO proposal id from the proposal message.</p><p>In general, overrule proposal creation is permissionless. Still, since it&#x27;s created in the very same transaction as the
proposal is getting timelocked and duplications aren&#x27;t allowed, there&#x27;s no moment in time when one can create overrule
proposal themself.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="caveats">Caveats<a href="#caveats" class="hash-link" aria-label="Direct link to Caveats" title="Direct link to Caveats">​</a></h3><p>Current implementation has several caveats:</p><ol><li>Since timelock contract is one that executes subDAO proposals, it essentially takes place of the subDAO core contract
(e.g. it should hold the funds and be registered in external entities).</li><li>The model might be a bit confusing in terms of proposal statuses. subDAO proposal now have two phases:<ol><li>subDAO-decision phase: the proposal is created, voted and executed by the subDAO. On this phase, the proposal has
regular statuses (e.g. <code>Passed</code>, <code>Rejected</code>, etc.). Still, <code>Executed</code> doesn&#x27;t mean that the proposal is executed, it
means that subDAO sent the proposal to the timelock contract.</li><li>Timelock phase: the proposal is locked at the Timelock contract. On this phase, the proposal has statuses
<code>Timelocked</code>, <code>Overruled</code>, <code>Executed</code>, <code>ExecutionFailed</code>. Here <code>Executed</code> means actual proposal execution.</li></ol></li><li>The overrule proposal module should be configured in a very special way:<ol><li>Obviously, it should have lower threshold and lower voting period than regular single choice proposal module.</li><li>Revoting should be disabled so that once threshold is reached, the overrule message can be executed.</li><li>Quorum should be set to the absolute count type so that even if significant voting power is against overruling, it
would happen anyway.</li><li>It should have no deposit since rejection of the overrule proposal is the only way to execute the subDAO proposal
and should be considered normal thing, no one should be punished for creation such proposal.</li></ol></li><li>Overrules modules require both from main DAO and a subDAO to be configured in a special way:<ol><li>Main DAO should have the overrule-compatible pre-propose module.</li><li>subDAO should have the subDAO pre-propose module with timelocking feature.<blockquote><p>Actually, 1st requirement can be avoided by changing the overrule proposal module in a way so that it won&#x27;t create
Proposal message based on input parameters but will validate one. It&#x27;ll make it fully compatible with regular
pre-propose modules and allow to use it already existing pre-propose modules for overrules. However, it&#x27;s a bit tricky
because of title and description.</p></blockquote></li></ol></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a href="#deployment" class="hash-link" aria-label="Direct link to Deployment" title="Direct link to Deployment">​</a></h3><p>Overrule pre-propose module is deployed pretty the same way as any other pre-propose module and doesn&#x27;t have any
additional init message.</p><p>subDAO pre-propose module is also deployed the same way as regular pre-propose modules. Still, it instantiates
timelock module and should have the message to instantiate it (the only thing required is the overrule pre proposal
module address of main DAO: it&#x27;s required so that timelock module could create overrule proposals and check their
statuses).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ux">UX<a href="#ux" class="hash-link" aria-label="Direct link to UX" title="Direct link to UX">​</a></h2><p>While Overrules are technically just another-proposal-type for main DAO, to avoid confusion, we should have a separate
UX for them.
Given that, the Overrule proposal can be voted on the subDAO proposal page.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/neutron/dao/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/neutron/dao/dao-dao-diff"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Differences from DAO-DAO</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#technical-details" class="table-of-contents__link toc-highlight">Technical details</a><ul><li><a href="#smart-contracts-design" class="table-of-contents__link toc-highlight">Smart contracts design</a></li><li><a href="#caveats" class="table-of-contents__link toc-highlight">Caveats</a></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a></li></ul></li><li><a href="#ux" class="table-of-contents__link toc-highlight">UX</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Intro</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/neutron" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/">Discord</a></li><li class="footer__item"><a href="https://twitter.com/Neutron_org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/neutron-org/neutron" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Neutron Org. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a2dd932a.js"></script>
<script src="/assets/js/main.281f2c91.js"></script>
</body>
</html>