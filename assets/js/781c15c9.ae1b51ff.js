"use strict";(self.webpackChunkneutron=self.webpackChunkneutron||[]).push([[99536],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>f});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(r),m=o,f=d["".concat(l,".").concat(m)]||d[m]||p[m]||a;return r?n.createElement(f,s(s({ref:t},u),{},{components:r})):n.createElement(f,s({ref:t},u))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[d]="string"==typeof e?e:o,s[1]=i;for(var c=2;c<a;c++)s[c]=r[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},28370:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var n=r(87462),o=(r(67294),r(3905));const a={},s="Overview",i={unversionedId:"neutron/modules/transfer/overview",id:"neutron/modules/transfer/overview",title:"Overview",description:"This document describes the IBC Transfer module for the Neutron network.",source:"@site/docs/neutron/modules/transfer/overview.md",sourceDirName:"neutron/modules/transfer",slug:"/neutron/modules/transfer/overview",permalink:"/neutron/modules/transfer/overview",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Client",permalink:"/neutron/modules/dex/client"},next:{title:"State",permalink:"/neutron/modules/transfer/state"}},l={},c=[{value:"IBC transfer results handover",id:"ibc-transfer-results-handover",level:2},{value:"Enhanced Transfer response",id:"enhanced-transfer-response",level:2},{value:"Sudo errors handling",id:"sudo-errors-handling",level:2}],u={toc:c},d="wrapper";function p(e){let{components:t,...r}=e;return(0,o.kt)(d,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"overview"},"Overview"),(0,o.kt)("p",null,"This document describes the IBC Transfer module for the Neutron network."),(0,o.kt)("p",null,"The Neutron's IBC Transfer module is a wrapper over the original IBC Transfer Module with a couple of additional features. For the modules are very similar, this documentation describes only the differences. Learn more about the original IBC Transfer module (and therefore about the Neutron's one) by the link to the ibc-go documentation site: ",(0,o.kt)("a",{parentName:"p",href:"https://ibc.cosmos.network/main/apps/transfer/overview.html"},"https://ibc.cosmos.network/main/apps/transfer/overview.html"),"."),(0,o.kt)("p",null,"What makes this module different from the original one:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"IBC transfer results passed through the module to the sender contract to make them processable by senders;"),(0,o.kt)("li",{parentName:"ul"},"an informative response on Transfer messages broadcast instead of an empty one to help contracts in ",(0,o.kt)("inlineCode",{parentName:"li"},"Sudo")," messages handling.")),(0,o.kt)("p",null,"Read about these features below to make a better understanding."),(0,o.kt)("h2",{id:"ibc-transfer-results-handover"},"IBC transfer results handover"),(0,o.kt)("p",null,"Since the Neutron's core audience is smart contracts, it's crucial to make interchain transfers handy and responsive for their usage. The original IBC Transfer module informs about acknowledgement and timeout packets by events emission. Smart contracts, however, are not able to subscribe to events and handle them in realtime, but what they are capable of is handling ",(0,o.kt)("inlineCode",{parentName:"p"},"Sudo")," calls. Thus, in order to let a contract process its IBC transfer result, Neutron's IBC Transfer module in addition to events emission as the original module does also performs a ",(0,o.kt)("inlineCode",{parentName:"p"},"Sudo")," call delivering the corresponding IBC packet straight to the contract. The module does so for all possible transfer outcomes: ",(0,o.kt)("inlineCode",{parentName:"p"},"AcknowledgementResult"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"AcknowledgementError"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"Timeout"),"."),(0,o.kt)("h2",{id:"enhanced-transfer-response"},"Enhanced Transfer response"),(0,o.kt)("p",null,"IBC transfers take some time, therefore contracts don't get the IBC transfer response immediately after executing transfers. And here comes a problem of distinguishing between different IBC transfers inside a single contract's scope: when received an IBC response, how can a contract match it with the corresponding request? To ease this task, each Transfer message provides the caller with the channel's ",(0,o.kt)("inlineCode",{parentName:"p"},"sequence_id")," and the sending's chain ",(0,o.kt)("inlineCode",{parentName:"p"},"channel")," name. Contracts should preserve these values because later on corresponding ",(0,o.kt)("inlineCode",{parentName:"p"},"Sudo")," call the provided message will contain the IBC packet information with these values inside. By mapping these values with the preserved ones, a contract can tell its transfer results apart."),(0,o.kt)("h2",{id:"sudo-errors-handling"},"Sudo errors handling"),(0,o.kt)("p",null,"Transfer module configured the following way, all the errors from a sudo handler are being suppressed by ",(0,o.kt)("a",{parentName:"p",href:"/neutron/modules/contract-manager/overview#concepts"},"contract manager middleware"),", sudo handler is limited with ",(0,o.kt)("a",{parentName:"p",href:"/neutron/modules/contract-manager/overview#gas-limitation"},"LIMIT")," amount of gas"))}p.isMDXComponent=!0}}]);